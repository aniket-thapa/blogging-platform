<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Edit Blog</title>
    <link rel="stylesheet" href="/public/css/tailwind.css" />
    <script
      src="https://cdn.tiny.cloud/1/lc69uvdgzdmy12x9k70w8diqldhmdteivxioy0lq1zkiio6x/tinymce/7/tinymce.min.js"
      referrerpolicy="origin"
    ></script>
  </head>
  <body
    class="h-full bg-gray-100 text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-200"
  >
    <%- include('../partials/navbar') %>

    <div
      class="min-h-screen flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8 py-8"
    >
      <!-- Header -->
      <h1
        class="text-2xl sm:text-3xl md:text-4xl font-extrabold text-blue-600 dark:text-blue-400 mb-6 text-center"
      >
        Edit Blog
      </h1>
      <!-- Form -->
      <form
        action="/blogs/<%= blog._id %>?_method=PUT"
        method="POST"
        onsubmit="tinymce.get('content').save();"
        class="w-full max-w-lg sm:max-w-xl lg:max-w-4xl bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 sm:p-8"
      >
        <!-- Title -->
        <div class="mb-4">
          <label
            for="title"
            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
            >Title</label
          >
          <input
            type="text"
            id="title"
            name="title"
            value="<%= blog.title %>"
            required
            class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none"
          />
        </div>

        <!-- Content -->
        <div class="mb-4">
          <label
            for="content"
            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
            >Content</label
          >
          <textarea
            id="content"
            name="content"
            class="w-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg p-3 focus:outline-none"
          >
<%= blog.content %>
          </textarea>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="w-full bg-blue-500 text-white py-2 sm:py-3 rounded-lg hover:bg-blue-600 transition"
        >
          Update Blog
        </button>
      </form>
    </div>
    <div class="relative mt-24"><%- include('../partials/footer') %></div>

    <script>
      tinymce.init({
        selector: '#content',
        menubar: true,
        branding: false,
        height: 600,
        plugins: 'link image lists table code',
        toolbar:
          'undo redo | styleselect | formatselect | bold italic underline | alignleft aligncenter alignright | bullist numlist | link image',
        setup: function (editor) {
          editor.on('init', function () {
            var textarea = document.getElementById('content');
            textarea.style.display = 'none';
            textarea.removeAttribute('aria-hidden');
          });
        },
      });
    </script>
    <script async defer src="/public/js/scrollToTop.js"></script>
  </body>
</html>
