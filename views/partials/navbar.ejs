<script
  src="https://kit.fontawesome.com/9ca9aa7819.js"
  crossorigin="anonymous"
></script>
<script>
  // Ensure dark mode toggle works correctly
  function toggleDarkMode() {
    if (localStorage.getItem('theme') === 'dark') {
      document.documentElement.classList.remove('dark');
      localStorage.setItem('theme', 'light');
    } else {
      document.documentElement.classList.add('dark');
      localStorage.setItem('theme', 'dark');
    }
  }

  // Apply the theme on page load
  if (localStorage.getItem('theme') === 'dark') {
    document.documentElement.classList.add('dark');
  }
</script>
<nav class="bg-white dark:bg-gray-800 shadow-md py-4 relative">
  <div class="container mx-auto px-4 flex justify-between items-center">
    <!-- Logo -->
    <a
      href="/"
      class="text-2xl font-bold text-gray-800 dark:text-gray-100 hover:text-blue-500"
    >
      Let's <span class="text-blue-500">Blog</span>
    </a>

    <!-- Hamburger Menu (Hidden by Default) -->
    <button
      id="menu-toggle"
      class="text-gray-800 dark:text-gray-100 block sm:hidden focus:outline-none self-end"
    >
      <i class="fas fa-bars text-2xl"></i>
    </button>

    <!-- Nav Links -->
    <ul
      id="nav-links"
      class="hidden absolute sm:relative top-full left-0 w-full sm:w-auto bg-white dark:bg-gray-800 sm:bg-transparent shadow-md sm:shadow-none z-50 sm:flex space-y-4 sm:space-y-0 sm:space-x-6 flex-col sm:flex-row"
    >
      <li>
        <a
          href="/"
          class="block text-gray-700 dark:text-gray-300 hover:text-blue-500 transition-colors py-2 px-4"
        >
          Home
        </a>
      </li>
      <li>
        <a
          href="/blogs"
          class="block text-gray-700 dark:text-gray-300 hover:text-blue-500 transition-colors py-2 px-4"
        >
          Blogs
        </a>
      </li>
      <% if(user!== null){ %>
      <li>
        <a
          href="/blogs/new"
          class="block text-gray-700 dark:text-gray-300 hover:text-blue-500 transition-colors py-2 px-4"
        >
          New Blog
        </a>
      </li>
      <li>
        <a
          href="/user/profile"
          class="block text-gray-700 dark:text-gray-300 hover:text-blue-500 transition-colors py-2 px-4"
        >
          Profile
        </a>
      </li>
      <li>
        <a
          href="/logout"
          class="block text-gray-700 dark:text-gray-300 hover:text-blue-500 transition-colors py-2 px-4"
        >
          Logout
        </a>
      </li>
      <% } else {%>
      <li>
        <a
          href="/login"
          class="block text-gray-700 dark:text-gray-300 hover:text-blue-500 transition-colors py-2 px-4"
        >
          Login
        </a>
      </li>
      <li>
        <a
          href="/register"
          class="block text-gray-700 dark:text-gray-300 hover:text-blue-500 transition-colors py-2 px-4"
        >
          Register
        </a>
      </li>
      <% } %>
    </ul>
    <!-- Dark Mode Toggle -->
    <button
      onclick="toggleDarkMode()"
      class="hidden sm:block px-2 py-1 bg-gray-800 dark:bg-gray-200 text-white dark:text-black rounded-sm"
    >
      <i class="fa-regular fa-sun"></i>
    </button>
  </div>
</nav>

<script>
  // Toggle the Menu-bar for small screens
  document.addEventListener('DOMContentLoaded', () => {
    const menuToggle = document.getElementById('menu-toggle');
    const navLinks = document.getElementById('nav-links');

    menuToggle.addEventListener('click', () => {
      navLinks.classList.toggle('hidden');
    });
  });
</script>

<!-- <body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100"></body> -->
